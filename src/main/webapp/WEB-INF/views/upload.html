<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">

<head>
<meta th:name="_csrf" th:content="${_csrf.token}" />
<meta th:name="_csrf_header" th:content="${_csrf.headerName}" />
</head>

<body>

	<!-- <form th:action="@{/test/upload}" method="POST" enctype="multipart/form-data"> -->

	<!-- <form th:action="@{/test/upload}" method="POST"> -->

	<form th:action="|@{/test/upload?__${_csrf.parameterName}__=__${_csrf.token}__}|" method="POST"
		enctype="multipart/form-data">

		<input type="file" name="file"> <input type="text" name="name">

		<input type="hidden" th:name="${_csrf.parameterName}"
			th:value="${_csrf.token}" />
		<button type="submit">Send image</button>

	</form>

</body>

</html>